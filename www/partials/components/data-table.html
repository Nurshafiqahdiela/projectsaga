<template>
    <div class="page">

        <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="icon icon-back"></i>
                        <span class="if-not-md">Back</span>
                    </a>
                </div>
                <div class="title">Data Table</div>
            </div>
        </div>

        <div class="page-content">

            <div class="row justify-content-center">
                <div class="col-100 xlarge-75">

                    <div class="block block-strong inset margin-vertical">
                        <p>Data Table can be used to display sets of data in a tabular format.</p>
                    </div>

                    <div class="block-title margin-vertical">Default</div>
                    <div class="data-table data-table-init card margin-vertical no-shadow">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell">Dessert (100g Serving)</th>
                                    <th class="numeric-cell">Calories</th>
                                    <th class="numeric-cell">Fat (g)</th>
                                    <th class="numeric-cell">Carbs (g)</th>
                                    <th class="numeric-cell">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${desserts.map((item, index) => $h`
                                <tr>
                                    <td class="label-cell">${item.name}</td>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Fixed Header</div>
                    <div class="data-table data-table-init data-table-fixed-header card margin-vertical no-shadow" style="height: 304px;">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell">Dessert (100g Serving)</th>
                                    <th class="numeric-cell">Calories</th>
                                    <th class="numeric-cell">Fat (g)</th>
                                    <th class="numeric-cell">Carbs (g)</th>
                                    <th class="numeric-cell">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${desserts.map((item, index) => $h`
                                <tr>
                                    <td class="label-cell">${item.name}</td>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Fixed First Column</div>
                    <div class="data-table data-table-init data-table-fixed-first-column card margin-vertical no-shadow" style="height: 304px;">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell">Dessert (100g Serving)</th>
                                    <th class="numeric-cell">Calories</th>
                                    <th class="numeric-cell">Fat (g)</th>
                                    <th class="numeric-cell">Carbs (g)</th>
                                    <th class="numeric-cell">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${desserts.map((item, index) => $h`
                                <tr>
                                    <th class="label-cell">${item.name}</th>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Sortable</div>
                    <div class="data-table data-table-init card margin-vertical no-shadow" @datatable:sort="${sortDataTable}">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell sortable-cell sortable-cell-active" data-sort-column="name">Dessert (100g Serving)</th>
                                    <th class="numeric-cell sortable-cell" data-sort-column="calories">Calories</th>
                                    <th class="numeric-cell sortable-cell" data-sort-column="fat">Fat (g)</th>
                                    <th class="numeric-cell sortable-cell" data-sort-column="carbs">Carbs (g)</th>
                                    <th class="numeric-cell sortable-cell" data-sort-column="protein">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${dessertsSorted.map((item, index) => $h`
                                <tr>
                                    <td class="label-cell">${item.name}</td>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Collapsible</div>
                    <div class="data-table data-table-init data-table-collapsible card margin-vertical no-shadow">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell">Dessert (100g Serving)</th>
                                    <th class="numeric-cell">Calories</th>
                                    <th class="numeric-cell">Fat (g)</th>
                                    <th class="numeric-cell">Carbs (g)</th>
                                    <th class="numeric-cell">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${desserts.map((item, index) => $h`
                                <tr>
                                    <td class="label-cell">${item.name}</td>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Inputs in Table Head</div>
                    <div class="data-table data-table-init card margin-vertical no-shadow">
                        <table>
                            <thead>
                                <tr>
                                    <th class="input-cell">
                                        <span class="table-head-label">Name</span>
                                        <div class="input">
                                            <input type="text" placeholder="Filter" />
                                        </div>
                                    </th>
                                    <th class="input-cell">
                                        <span class="table-head-label">Email</span>
                                        <div class="input">
                                            <input type="email" placeholder="Filter" />
                                        </div>
                                    </th>
                                    <th class="input-cell">
                                        <span class="table-head-label">Gender</span>
                                        <div class="input input-dropdown">
                                            <select>
                                                <option value="All">All</option>
                                                <option value="Male">Male</option>
                                                <option value="Female">Female</option>
                                            </select>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Eva Nichols</td>
                                    <td>eva.nichols@example.com</td>
                                    <td>Female</td>
                                </tr>
                                <tr>
                                    <td>Kirk Reed</td>
                                    <td>kirk.reed@example.com</td>
                                    <td>Male</td>
                                </tr>
                                <tr>
                                    <td>Sedef Tokgoz</td>
                                    <td>sedef.tokgoz@example.com</td>
                                    <td>Female</td>
                                </tr>
                                <tr>
                                    <td>Deborah Henderson</td>
                                    <td>deborah.henderson@example.com</td>
                                    <td>Female</td>
                                </tr>
                                <tr>
                                    <td>Francisco Ellis</td>
                                    <td>francisco.ellis@example.com</td>
                                    <td>Male</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="block-title margin-vertical">Selectable Rows</div>
                    <div class="data-table data-table-init card margin-vertical no-shadow">
                        <div class="card-header">
                            <div class="data-table-header">
                                <div class="data-table-title">Nutrition</div>
                                <div class="data-table-actions">
                                    <a class="link icon-only">
                                        <i class="icon material-icons">sort</i>
                                    </a>
                                    <a class="link icon-only">
                                        <i class="icon material-icons">more_vert</i>
                                    </a>
                                </div>
                            </div>
                            <div class="data-table-header-selected">
                                <div class="data-table-title-selected">
                                    <span class="data-table-selected-count"></span>${`\u0020`}<span>Items Selected</span>
                                </div>
                                <div class="data-table-actions">
                                    <a class="link icon-only">
                                        <i class="icon material-icons">delete</i>
                                    </a>
                                    <a class="link icon-only">
                                        <i class="icon material-icons">more_vert</i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="card-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th class="checkbox-cell">
                                            <label class="checkbox">
                                                <input type="checkbox" />
                                                <i class="icon-checkbox"></i>
                                            </label>
                                        </th>
                                        <th class="label-cell">Dessert (100g Serving)</th>
                                        <th class="numeric-cell">Calories</th>
                                        <th class="numeric-cell">Fat (g)</th>
                                        <th class="numeric-cell">Carbs (g)</th>
                                        <th class="numeric-cell">Protein (g)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${desserts.map((item, index) => $h`
                                    <tr>
                                        <td class="checkbox-cell">
                                            <label class="checkbox">
                                                <input type="checkbox" />
                                                <i class="icon-checkbox"></i>
                                            </label>
                                        </td>
                                        <td class="label-cell">${item.name}</td>
                                        <td class="numeric-cell">${item.calories}</td>
                                        <td class="numeric-cell">${item.fat}</td>
                                        <td class="numeric-cell">${item.carbs}</td>
                                        <td class="numeric-cell">${item.protein}</td>
                                    </tr>
                                    `)}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="block-title margin-vertical">Pagination Footer</div>
                    <div class="data-table data-table-init card margin-vertical no-shadow">
                        <table>
                            <thead>
                                <tr>
                                    <th class="label-cell">Dessert (100g Serving)</th>
                                    <th class="numeric-cell">Calories</th>
                                    <th class="numeric-cell">Fat (g)</th>
                                    <th class="numeric-cell">Carbs (g)</th>
                                    <th class="numeric-cell">Protein (g)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${desserts.map((item, index) => $h`
                                <tr>
                                    <td class="label-cell">${item.name}</td>
                                    <td class="numeric-cell">${item.calories}</td>
                                    <td class="numeric-cell">${item.fat}</td>
                                    <td class="numeric-cell">${item.carbs}</td>
                                    <td class="numeric-cell">${item.protein}</td>
                                </tr>
                                `)}
                            </tbody>
                        </table>
                        <div class="data-table-footer">
                            <div class="data-table-rows-select">
                                <span>Per Page</span>
                                <div class="input input-dropdown">
                                    <select>
                                        <option value="5">5</option>
                                        <option value="10">10</option>
                                        <option value="25">25</option>
                                        <option value="all">All</option>
                                    </select>
                                </div>
                            </div>
                            <div class="data-table-pagination">
                                <span class="data-table-pagination-label">1-5 of 10</span>
                                <a href="#" class="link disabled">
                                    <i class="icon icon-prev color-gray"></i>
                                </a>
                                <a href="#" class="link">
                                    <i class="icon icon-next color-gray"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>

    </div>
</template>

<script>
    export default function(props, {$, $el, $f7, $f7route, $f7router, $h, $on, $store, $theme, $update}) {

        let desserts = [
            {
                name: "Cupcake",
                calories: 305,
                fat: 3.7,
                carbs: 67,
                protein: 4.3
            },
            {
                name: "Donut",
                calories: 452,
                fat: 25,
                carbs: 51,
                protein: 4.9
            },
            {
                name: "Eclair",
                calories: 262,
                fat: 16,
                carbs: 24,
                protein: 6
            },
            {
                name: "Froyo",
                calories: 159,
                fat: 6,
                carbs: 24,
                protein: 4
            },
            {
                name: "Gingerbread",
                calories: 356,
                fat: 16,
                carbs: 49,
                protein: 3.9
            },
            {
                name: "Honey",
                calories: 304,
                fat: 0,
                carbs: 82,
                protein: 0.3
            },
            {
                name: "Ice Cream Sandwich",
                calories: 237,
                fat: 9,
                carbs: 37,
                protein: 4.3
            },
            {
                name: "Jelly Bean",
                calories: 375,
                fat: 0.1,
                carbs: 94,
                protein: 0
            },
            {
                name: "Kit Kat",
                calories: 518,
                fat: 26,
                carbs: 65,
                protein: 7
            },
            {
                name: "Lollipop",
                calories: 367,
                fat: 0.2,
                carbs: 98,
                protein: 0
            },
            {
                name: "Marshmallow",
                calories: 318,
                fat: 0.2,
                carbs: 81,
                protein: 1.8
            },
            {
                name: "Nougat",
                calories: 398,
                fat: 1.7,
                carbs: 92,
                protein: 3.3
            },
            {
                name: "Oreo",
                calories: 480,
                fat: 21,
                carbs: 75,
                protein: 3
            }
        ]

        let dessertsSorted = desserts;

        let sortDataTable = function(dataTable, sort) {
            let sortColumn = dataTable.target.dataset.sortColumn;
            let sortOrder = sort;
            let sorted = null;
            if (sortOrder == 'desc') {
                sorted = fastSort.sort(dessertsSorted).desc(dessert => dessert[sortColumn]);
            }
            else {
                sorted = fastSort.sort(dessertsSorted).asc(dessert => dessert[sortColumn]);
            }
            dessertsSorted = sorted;
            $update();
        }

        return $render;
    }
</script>